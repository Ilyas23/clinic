exports.ids=[11],exports.modules={138:function(t,e,n){var content=n(165);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);var r=n(3).default;t.exports.__inject__=function(t){r("3fef9ad6",content,!0,t)}},164:function(t,e,n){"use strict";n.r(e);var r=n(138),o=n.n(r);for(var c in r)"default"!==c&&function(t){n.d(e,t,function(){return r[t]})}(c);e.default=o.a},165:function(t,e,n){(t.exports=n(2)(!1)).push([t.i,".news[data-v-b3658510]{width:80%;margin-top:5rem;text-align:center}",""])},198:function(t,e,n){"use strict";n.r(e);var r={layout:"admin",middleware:["admin-auth"],asyncData:async({store:t})=>({news:await t.dispatch("news/fetchNews")}),methods:{addRow(){this.$router.push("/admin/add-news")},open(t){this.$router.push(`/admin/edit-news/${t}`)},async remove(t){try{await this.$confirm("Удалить новость?","Внимание!",{confirmButtonText:"Да",cancelButtonText:"Отменить",type:"warning"}),await this.$store.dispatch("news/remove",t),this.news=this.news.filter(s=>s._id!==t),this.$message.success("Новость удалена")}catch(t){}}}},o=n(1);var component=Object(o.a)(r,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"news"},[t._ssrNode('<h1 class="mb" data-v-b3658510>Новости</h1> '),n("el-table",{staticStyle:{width:"50%",margin:"0 auto"},attrs:{"highlight-current-row":"",border:!0,data:t.news}},[n("el-table-column",{attrs:{prop:"title",label:"Заголовок"}}),t._v(" "),n("el-table-column",{attrs:{label:"Действия",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[n("el-tooltip",{attrs:{effect:"dark",content:"Редактировать",placement:"top"}},[n("el-button",{attrs:{type:"primary",circle:"",icon:"el-icon-edit"},on:{click:function(e){return t.open(r._id)}}})],1),t._v(" "),n("el-tooltip",{attrs:{effect:"dark",content:"Удалить",placement:"top"}},[n("el-button",{attrs:{icon:"el-icon-delete",type:"danger",circle:""},on:{click:function(e){return t.remove(r._id)}}})],1)]}}])})],1),t._ssrNode(" "),n("el-button",{staticStyle:{"margin-top":"2rem"},attrs:{type:"primary"},domProps:{textContent:t._s("Добавить новость")},on:{click:t.addRow}})],2)},[],!1,function(t){var e=n(164);e.__inject__&&e.__inject__(t)},"b3658510","e53fe7f8");e.default=component.exports}};
//# sourceMappingURL=e2c221cf937041148f5e.js.map