(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{469:function(t,e,n){var content=n(496);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("3fef9ad6",content,!0,{sourceMap:!1})},495:function(t,e,n){"use strict";var r=n(469);n.n(r).a},496:function(t,e,n){(t.exports=n(20)(!1)).push([t.i,".news[data-v-b3658510]{width:80%;margin-top:5rem;text-align:center}",""])},519:function(t,e,n){"use strict";n.r(e);n(22);var r=n(2),o={layout:"admin",middleware:["admin-auth"],asyncData:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.store,t.next=3,n.dispatch("news/fetchNews");case 3:return r=t.sent,t.abrupt("return",{news:r});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),methods:{addRow:function(){this.$router.push("/admin/add-news")},open:function(t){this.$router.push("/admin/edit-news/".concat(t))},remove:function(){var t=Object(r.a)(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$confirm("Удалить новость?","Внимание!",{confirmButtonText:"Да",cancelButtonText:"Отменить",type:"warning"});case 3:return t.next=5,this.$store.dispatch("news/remove",e);case 5:this.news=this.news.filter(function(s){return s._id!==e}),this.$message.success("Новость удалена"),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}},t,this,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()}},c=(n(495),n(7)),component=Object(c.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"news"},[n("h1",{staticClass:"mb"},[t._v("Новости")]),t._v(" "),n("el-table",{staticStyle:{width:"50%",margin:"0 auto"},attrs:{"highlight-current-row":"",border:!0,data:t.news}},[n("el-table-column",{attrs:{prop:"title",label:"Заголовок"}}),t._v(" "),n("el-table-column",{attrs:{label:"Действия",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[n("el-tooltip",{attrs:{effect:"dark",content:"Редактировать",placement:"top"}},[n("el-button",{attrs:{type:"primary",circle:"",icon:"el-icon-edit"},on:{click:function(e){return t.open(r._id)}}})],1),t._v(" "),n("el-tooltip",{attrs:{effect:"dark",content:"Удалить",placement:"top"}},[n("el-button",{attrs:{icon:"el-icon-delete",type:"danger",circle:""},on:{click:function(e){return t.remove(r._id)}}})],1)]}}])})],1),t._v(" "),n("el-button",{staticStyle:{"margin-top":"2rem"},attrs:{type:"primary"},domProps:{textContent:t._s("Добавить новость")},on:{click:t.addRow}})],1)},[],!1,null,"b3658510",null);e.default=component.exports}}]);