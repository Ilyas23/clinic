(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{531:function(e,t,r){"use strict";r.r(t);var n=r(16),o=(r(22),r(2)),m={layout:"admin",middleware:["admin-auth"],asyncData:function(){var e=Object(o.a)(regeneratorRuntime.mark(function e(t){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.store,n=t.params,e.next=3,r.dispatch("patient/fetchPatientById",n.id);case 3:return o=e.sent,e.abrupt("return",{patient:o});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),data:function(){return{loading:!1,form:{name:"",phone:"",email:"",date:"",time:"",comment:""},rules:{name:[{required:!0,message:"Имя не должно быть пустым",trigger:"blur"}],phone:[{required:!0,message:"Введите номер телефона",trigger:"blur"}]}}},mounted:function(){this.form=Object(n.a)({},this.patient)},methods:{save:function(){var e=this;this.$refs.form.validate(function(){var t=Object(o.a)(regeneratorRuntime.mark(function t(r){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=12;break}return t.prev=1,e.loading=!0,t.next=5,e.$store.dispatch("patient/update",e.form);case 5:e.$message.success("Запись обновлена"),e.loading=!1,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e.loading=!1;case 12:case"end":return t.stop()}},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}())}}},l=r(7),component=Object(l.a)(m,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"form",staticStyle:{width:"50%",margin:"4rem auto 0"},attrs:{model:e.form,rules:e.rules},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[r("h1",{staticClass:"mb"},[e._v("Редактирование записи приема пациента")]),e._v(" "),r("el-form-item",{attrs:{label:"ФИО пациента",prop:"name"}},[r("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Телефон",prop:"phone"}},[r("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"E-mail",prop:"email"}},[r("el-input",{model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"Время записи"}},[r("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",placeholder:"Дата"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}}),e._v(" "),r("el-time-picker",{staticStyle:{width:"100px"},attrs:{format:"HH:mm",type:"fixed-time",placeholder:"Время"},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}})],1),e._v(" "),r("el-form-item",{staticClass:"mb2",attrs:{label:"Комментарий",prop:"comment"}},[r("el-input",{attrs:{type:"textarea",resize:"none",rows:3},model:{value:e.form.comment,callback:function(t){e.$set(e.form,"comment",t)},expression:"form.comment"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary","native-type":"submit",round:"",loading:e.loading}},[e._v("\n      Сохранить\n    ")])],1)],1)},[],!1,null,null,null);t.default=component.exports}}]);